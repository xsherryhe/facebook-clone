<div class="user">
  <%= render current_user %>
</div>
<%= simple_form_for comment, 
                    url: url,
                    data: { controller: 'form', 
                            action: 'turbo:submit-end->form#reset',
                            form_file_field_ind_value: 0 } do |form| %>
  <%= form.input :body, 
                 label: false, 
                 input_html: { data: { form_target: 'input', action: 'form#setSubmit keypress->form#submitOnEnter' } } %>
  <div class="field">
    <div class="photos">
      <%= render comment.photos, link_path: false, height: '150' %>
      <%# for each photo, add a remove link underneath with a data action and something to send in params -- hidden nested attribute field with _destroy key %>
      <span class="preview" data-form-target="preview"></span>
    </div>
    <div class="photo-upload">
      <%= form.label :raw_photos, 'Upload Photos' %>
      <%= form.file_field :raw_photos, multiple: true, id: 'filefield-0',
                          data: { form_target: 'input', action: 'form#updateFileDisplay form#setSubmit' } %>
    </div>
    <% comment.photos.each.with_index(1) do |photo, i| %> 
      <% photo.errors[:stored].each do |message| %>
        <p class="error">Photo #<%= i %> <%= message %></p>
      <% end %>
    <% end %>
  </div>
  <%= form.submit 'Submit', disabled: true, data: { form_target: 'submit' } %>
<% end %>
