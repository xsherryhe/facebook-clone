<div>
  <%= turbo_frame_tag "comment-#{comment.id}", 
                      data: { controller: 'redirect', 
                              action: "turbo:before-fetch-response->redirect#intercept" } do %>
    <div class="comment-user"><%= render comment.user %></div>
    <div class="comment-time"><%= render 'shared/time', resource: comment %></div>
    <div class="comment-body"><%= comment.body %></div>
    <div class="photos">
      <% comment.photos.each do |photo| %>
        <%= render photo, link_path: image_path(photo), height: '150' %>
      <% end %>
    </div>
    <%= render 'likes/likes_display', reactable: comment %>
    <%= render 'likes/likes_link', reactable: comment %>
    <%= render 'comments/comment_link', text: comment.comments.any? ? 'Show Replies' : 'Reply', reactable: comment %>

    <% if comment.user == current_user %>
      <%= link_to "Edit This #{comment.reactable.comment_name.capitalize}", edit_comment_path(comment) %>
      <%= link_to "Delete This #{comment.reactable.comment_name.capitalize}", comment, data: { turbo_method: :delete } %>
    <% end %>
  <% end %>
  
  <%= render 'comments/comment_display', reactable: comment %>
</div>
